<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>README - ICICLE Training Catalog</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/cards.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "README";
        var mkdocs_page_input_path = "harp/install-script-source/README.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> ICICLE Training Catalog
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">ICICLE Training Catalog</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">AI for CI-for-AI</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" >Harp</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../">Index</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Cheetah</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../cheetah/">Index</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Tests</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../cheetah/tests/">Index</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../cheetah/tests/build_summit/">How to build the dependencies on Summit</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../cheetah/tests/build_theta/">How to build dependencies on Theta</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Examples</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >01 eulers number</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../examples/01-eulers_number/">Estimating walltime to execute "calc_e.py" with given configurations for application: Calculating Euler's number</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" >Install script source</a>
    <ul class="current">
                <li class="toctree-l3 current"><a class="reference internal current" href="#">README</a>
    <ul class="current">
    <li class="toctree-l4"><a class="reference internal" href="#description">Description</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#command-line-options">Command-line options</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#environment-variables">Environment Variables</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#example">Example</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Example</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="example/">Local Install Script Example</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >iSpLib</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../iSpLib/">iSpLib - An Intelligent Sparse Library</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Software Architecture and Design</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Base_ICICLE_Tapis_Software/">Base ICICLE Tapis Software</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Event_Engine/">Event Engine</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Hello icicle auth clients</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../hello_icicle_auth_clients/">Hello ICICLE Authentication Clients</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Icicle rel 03 2023</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../hello_icicle_auth_clients/icicle_rel_03_2023/">Hello ICICLE Authentication Clients Software Release Notes:</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" >CLI</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../hello_icicle_auth_clients/icicle_rel_03_2023/CLI/">Hello Icicle Authentication Clients Software Release Notes:</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" >ICICONSOLE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" >TapisCL ICICLE</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Notebooks</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../hello_icicle_auth_clients/icicle_rel_03_2023/Notebooks/">Hello Icicle Authentication Clients Software Release Notes:</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Images</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../hello_icicle_auth_clients/images/readme/">Readme</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Tapis_Pods_Service/">Tapis Pods Service</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../CI_Components_Catalog/">CI Components Catalog</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Animal Ecoloy</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Camera traps</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../camera-traps/">camera-traps</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../camera-traps/RELEASE_NOTES/">Camera Traps Release Notes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Custom install</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../camera-traps/custom_install/">Camera Traps Custom Installer</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >External plugins</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >Image generating plugin</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../camera-traps/external_plugins/image_generating_plugin/">Image Generating Plugin</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Image scoring plugin</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../camera-traps/external_plugins/image_scoring_plugin/">Image Scoring Plugin</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Power measuring plugin</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../camera-traps/external_plugins/power_measuring_plugin/">Power Measure Plugin</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Releases</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../camera-traps/releases/">Running Released Versions of Camera-Traps</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" >0.3.1</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" >Integration test</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Src</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >Python</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../camera-traps/src/python/">ctevents</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Digital Agriculture</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Camera traps</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../camera-traps/">camera-traps</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../camera-traps/RELEASE_NOTES/">Camera Traps Release Notes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Custom install</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../camera-traps/custom_install/">Camera Traps Custom Installer</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >External plugins</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >Image generating plugin</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../camera-traps/external_plugins/image_generating_plugin/">Image Generating Plugin</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Image scoring plugin</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../camera-traps/external_plugins/image_scoring_plugin/">Image Scoring Plugin</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Power measuring plugin</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../camera-traps/external_plugins/power_measuring_plugin/">Power Measure Plugin</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Releases</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../camera-traps/releases/">Running Released Versions of Camera-Traps</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" >0.3.1</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" >Integration test</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Src</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >Python</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../camera-traps/src/python/">ctevents</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Smart Foodsheds</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >PPODLinkML</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../PPODLinkML/">PPOD_FSL - A LinkML Schema for UC Davis Food Systems Lab Applications</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../PPODLinkML/LICENSE/">LICENSE</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Smart_Foodsheds_Visual_Analytics_Dashboard/">Smart Foodsheds Visual Analytics Dashboard</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">ICICLE Training Catalog</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">AI for CI-for-AI</li>
          <li class="breadcrumb-item">Harp</li>
          <li class="breadcrumb-item">Install script source</li>
      <li class="breadcrumb-item active">README</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="readme">README</h1>
<p>This repo contains files to help users write short "local install scripts" to
build, install, and manage software in their home directories. Typically, a
user will want to copy <code>install-osc_sample.sh</code> and follow the notes within to
get it to download, build, and install the desired software. Some additional
description of the install script and template are provided below, as well as
simple example at the bottom.</p>
<p>If you have questions or need help writing an install script, feel free to
contact <a href="mailto:oschelp@osc.edu">OSC Help</a>.</p>
<h2 id="description">Description</h2>
<p><code>install-template.sh</code> is a template script with default/"boilerplate" functions
to be sourced at the beginning of all user install scripts.</p>
<p><code>install-osc_sample.sh</code> is an example of an install script that a user would
copy and modify to locally install some software that OSC does not provide.</p>
<p>The expectation is that users will copy <code>install-osc_sample.sh</code> and modify it
to suit their needs. Note that by default:
- The download and build directories, as well as the log file, will be placed in the directory from which the install script is run
- The software will be installed into <code>$HOME/osc_apps/&lt;pkgname&gt;/&lt;pkgversion&gt;</code> (configurable by making a modified config file)
- The module file will be placed in <code>$HOME/osc_apps/lmodfiles/&lt;pkgname&gt;/&lt;pkgversion&gt;.lua</code> (configurable by making a modified config file)</p>
<p>Assuming the default for the module file directory, the user will need to run
<code>module use $HOME/osc_apps/lmodfiles</code> in any session in which they want to load
their locally-installed software.</p>
<h2 id="command-line-options">Command-line options</h2>
<p><code>-c | --config &lt;config_file&gt;</code>:  Specify location of non-default config file to be used during installation</p>
<h2 id="environment-variables">Environment Variables</h2>
<h3 id="defined-by-the-install-script">Defined by the install script</h3>
<p>These environment variables may be optionally defined by the user in the install script and modify the behavior of the template file:
- <code>MODULE_SETTING</code>:  if <code>only</code>, skip installation and just update the module file; if <code>none</code>, then do not generate a module file
- <code>VERIFY_FILES</code>:  list of files that must be in the install directory for a valid installation, exit with error if any are missing.
- <code>KEEP_INSTALLDIR</code>: if <code>1</code>, do not delete install directory at beginning of installation; otherwise, delete install directory </p>
<h3 id="defined-by-the-template">Defined by the template</h3>
<p>These variables are defined by the template file and can be used by the user in the install script:
- <code>installdir</code>: directory where application should be installed
- <code>srcdir</code>: directory containing install script, build directory, and log files for application
- <code>moddir</code>: directory module file for application should be located
- <code>modfile</code>: module file to be created/updated
- <code>builddir</code>: directory where application should be built
- <code>dldir</code>: directory where files necessary for installation should be downloaded
- <code>pkgmaj</code>: major version of application
- <code>pkgmin</code>: minor version of application
- <code>pkgpatch</code>: patch version of application
- <code>pkgmajmin</code>: major and minor version of application
- <code>pkgbugfix</code>: bug fix version of application
- <code>CC</code>: C compiler
- <code>CXX</code>: C++ compiler
- <code>FC</code>: Fortran compiler
- <code>F77</code>: Fortran77 compiler
- <code>F90</code>: Fortran90 compiler
- <code>COMPILER_FAMILY</code>: compiler family (i.e., GNU, Intel, or PGI)
- <code>MPI_CC</code>: MPI C compiler
- <code>MPI_CXX</code>: MPI Fortran compiler
- <code>MPI_FC</code>: MPI Fortran compiler</p>
<h3 id="defined-by-config-file">Defined by config file</h3>
<p>These variables are defined by the config file. Several (marked below as UNUSED) are not used for these local installs and are only kept in the config file for the purpose of consistency with our central install scripts.
- <code>system_name</code>: UNUSED
- <code>topdir</code>: top-level directory for installations (default <code>~/osc_apps</code>)
- <code>modtop</code>: top-level directory for module files (default <code>~/osc_apps/lmodfiles</code>)
- <code>srctop</code>: UNUSED (software is downloaded and built in the directory from which the install script is run)
- <code>update_cache_command</code>: UNUSED
- <code>installdirlen</code>: UNUSED
- <code>has_facls</code>: UNUSED
- <code>add_facls</code>: UNUSED
A user can copy the provided config file and make changes as needed. In this case, the install script must be run with the <code>-c|--config</code> flag:</p>
<pre><code>./install-osc.sh -c &lt;path to modified config&gt;
</code></pre>
<h2 id="example">Example</h2>
<p>For a simple example of a local installation using an install script, see the <code>example</code> subdirectory and the <code>README.md</code> within.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../examples/01-eulers_number/" class="btn btn-neutral float-left" title="Estimating walltime to execute "calc_e.py" with given configurations for application: Calculating Euler's number"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="example/" class="btn btn-neutral float-right" title="Local Install Script Example">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../examples/01-eulers_number/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="example/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../js/tooltips.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
